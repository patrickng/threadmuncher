<div id="post-<%= @post.id %>">
  <div class="clearfix">
    <span class="post-vote-rank">
      <div class="post-vote">
        <div><%= link_to "&#x25B2;".html_safe, upvote_post_path(@post), method: 'put', remote: 'true' %></div>
        <div><%= link_to "&#x25BC;".html_safe, downvote_post_path(@post), method: 'put', remote: 'true' %></div>
      </div>
      <div class="post-rank">
        <%= @post.upvote - @post.downvote %>
      </div>
    </span>
    <span class="post-info">
      <h1><%= link_to_if(@post.type_of_post == 1, @post.title, @post.url, target: '_blank') %></h1>

      <% if @post.type_of_post == 2 %>
      <p><%= @post.body %></p>
      <% end %>

      <%= pluralize(@post.comments.count, 'comment') %><br><br>
    </span>
  </div>
<h2>Comments</h2>

<%= render "comment_form" %>

<% @comments.each do |comment| %>
  <div id="comment-<%= comment.id %>" class="clearfix comment">
    <span class="comment-vote">
      <div><%= link_to "&#x25B2;".html_safe, upvote_post_comment_path(@post, comment), method: 'put', remote: 'true' %></div>
      <div><%= link_to "&#x25BC;".html_safe, downvote_post_comment_path(@post, comment), method: 'put', remote: 'true' %></div>
    </span>
    <span class="comment-body">
      <div class="comment-rank">
        Comment rank: <%= comment.upvote - comment.downvote %>
      </div>
      <%= comment.content %>
      <span>
        (<span class="upvote"><%= comment.upvote %></span> | <span class="downvote"><%= comment.downvote  %></span>)
      </span>
    </span>
  </li>
  </div>
<% end %>
<br>
<%= link_to 'Back', posts_path %>
</div>